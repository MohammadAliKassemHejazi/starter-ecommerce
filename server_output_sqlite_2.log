
> nodejs-express-mrcs-starter-template@1.0.0 dev
> nodemon index.ts

[33m[nodemon] 3.1.9[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node index.ts`[39m
‚úÖ Config loaded from: /app/server/src/config/db.config.ts
üîß Database config: {
  dialect: 'sqlite',
  host: '127.0.0.1',
  port: 5432,
  database: 'ecommerce_dev',
  use_env_variable: undefined,
  hasUsername: true,
  hasPassword: true
}
üîó Connecting to database: ecommerce_dev at 127.0.0.1:5432
üìÅ Loading 32 model files: [
  'Tax.model.ts',
  'analytics.model.ts',
  'article.model.ts',
  'cart.model.ts',
  'cartitem.model.ts',
  'category.model.ts',
  'comments.model.ts',
  'favorite.model.ts',
  'favoriteitem.model.ts',
  'log.model.ts',
  'multilan.model.ts',
  'order.model.ts',
  'orderitem.model.ts',
  'package.model.ts',
  'payment.model.ts',
  'permission.model.ts',
  'product.model.ts',
  'productimage.ts',
  'promotion.model.ts',
  'return.model.ts',
  'role.model.ts',
  'rolepermission .model.ts',
  'roleuser.model.ts',
  'shippment.model.ts',
  'shippmentmethod.model.ts',
  'size.model.ts',
  'sizeitem.model.ts',
  'store.model.ts',
  'subcategory.model.ts',
  'userpackage.model.ts',
  'users.model.ts',
  'usersession.model.ts'
]
‚úÖ Loaded model: TaxRule
‚úÖ Loaded model: Analytics
‚úÖ Loaded model: Article
‚úÖ Loaded model: Cart
‚úÖ Loaded model: CartItem
‚úÖ Loaded model: Category
‚úÖ Loaded model: Comment
‚úÖ Loaded model: Favorite
‚úÖ Loaded model: FavoriteItem
‚úÖ Loaded model: AuditLog
‚úÖ Loaded model: Translation
‚úÖ Loaded model: Order
‚úÖ Loaded model: OrderItem
‚úÖ Loaded model: Package
‚úÖ Loaded model: Payment
‚úÖ Loaded model: Permission
‚úÖ Loaded model: Product
‚úÖ Loaded model: ProductImage
‚úÖ Loaded model: Promotion
‚úÖ Loaded model: ReturnRequest
‚úÖ Loaded model: Role
‚úÖ Loaded model: RolePermission
‚úÖ Loaded model: RoleUser
‚úÖ Loaded model: OrderShipping
‚úÖ Loaded model: ShippingMethod
‚úÖ Loaded model: Size
‚úÖ Loaded model: SizeItem
‚úÖ Loaded model: Store
‚úÖ Loaded model: SubCategory
‚úÖ Loaded model: UserPackage
‚úÖ Loaded model: User
‚úÖ Loaded model: UserSession
üîó Set up associations for: TaxRule
üîó Set up associations for: Analytics
üîó Set up associations for: Article
üîó Set up associations for: Cart
üîó Set up associations for: CartItem
üîó Set up associations for: Category
üîó Set up associations for: Comment
üîó Set up associations for: Favorite
üîó Set up associations for: FavoriteItem
üîó Set up associations for: AuditLog
üîó Set up associations for: Translation
üîó Set up associations for: Order
üîó Set up associations for: OrderItem
üîó Set up associations for: Package
üîó Set up associations for: Payment
üîó Set up associations for: Permission
üîó Set up associations for: Product
üîó Set up associations for: ProductImage
üîó Set up associations for: Promotion
üîó Set up associations for: ReturnRequest
üîó Set up associations for: Role
üîó Set up associations for: RolePermission
üîó Set up associations for: RoleUser
üîó Set up associations for: OrderShipping
üîó Set up associations for: ShippingMethod
üîó Set up associations for: Size
üîó Set up associations for: SizeItem
üîó Set up associations for: Store
üîó Set up associations for: SubCategory
üîó Set up associations for: UserPackage
üîó Set up associations for: User
üîó Set up associations for: UserSession
üéâ Database initialization complete. Models loaded: TaxRule, Analytics, Article, Cart, CartItem, Category, Comment, Favorite, FavoriteItem, AuditLog, Translation, Order, OrderItem, Package, Payment, Permission, Product, ProductImage, Promotion, ReturnRequest, Role, RolePermission, RoleUser, OrderShipping, ShippingMethod, Size, SizeItem, Store, SubCategory, UserPackage, User, UserSession
üîÑ Performing database reset in development...
Executing (default): PRAGMA foreign_keys = OFF
Executing (default): SELECT 1+1 AS result
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='TaxRules';
‚úÖ Database connection established successfully.
Executing (default): CREATE TABLE IF NOT EXISTS `TaxRules` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `region` VARCHAR(255), `rate` FLOAT, `taxType` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`TaxRules`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Analytics';
Executing (default): CREATE TABLE IF NOT EXISTS `Analytics` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `eventType` VARCHAR(255), `eventData` JSON, `userId` UUID REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `sessionId` VARCHAR(255), `pageUrl` VARCHAR(255), `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Analytics`)
Executing (default): CREATE INDEX `analytics_event_type` ON `Analytics` (`eventType`)
Executing (default): CREATE INDEX `analytics_session_id` ON `Analytics` (`sessionId`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Articles';
Executing (default): CREATE TABLE IF NOT EXISTS `Articles` (`id` UUID NOT NULL PRIMARY KEY, `title` VARCHAR(255), `text` VARCHAR(500), `userId` UUID REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Articles`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Articles_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Carts';
Executing (default): CREATE TABLE IF NOT EXISTS `Carts` (`id` UUID NOT NULL PRIMARY KEY, `userId` UUID NOT NULL REFERENCES `Users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Carts`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Carts_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='CartItems';
Executing (default): CREATE TABLE IF NOT EXISTS `CartItems` (`id` UUID PRIMARY KEY, `quantity` INTEGER NOT NULL, `cartId` UUID NOT NULL REFERENCES `Carts` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `productId` UUID NOT NULL REFERENCES `Products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `sizeItemId` UUID NOT NULL REFERENCES `SizeItems` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `sizeId` UUID REFERENCES `Sizes` (`id`), `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`CartItems`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_CartItems_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Categories';
Executing (default): CREATE TABLE IF NOT EXISTS `Categories` (`id` UUID PRIMARY KEY, `name` VARCHAR(255) NOT NULL, `description` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `userId` UUID REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
Executing (default): PRAGMA INDEX_LIST(`Categories`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Categories_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Comments';
Executing (default): CREATE TABLE IF NOT EXISTS `Comments` (`id` UUID NOT NULL PRIMARY KEY, `userId` UUID NOT NULL REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `productId` UUID NOT NULL REFERENCES `Products` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `text` TEXT NOT NULL, `rating` INTEGER NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Comments`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Comments_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Favorites';
Executing (default): CREATE TABLE IF NOT EXISTS `Favorites` (`id` UUID NOT NULL PRIMARY KEY, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `userId` UUID REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `productId` UUID REFERENCES `Products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE);
Executing (default): PRAGMA INDEX_LIST(`Favorites`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Favorites_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='FavoriteItems';
Executing (default): CREATE TABLE IF NOT EXISTS `FavoriteItems` (`id` UUID PRIMARY KEY, `favoriteId` UUID NOT NULL REFERENCES `Favorites` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `productId` UUID NOT NULL REFERENCES `Products` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`FavoriteItems`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_FavoriteItems_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='AuditLogs';
Executing (default): CREATE TABLE IF NOT EXISTS `AuditLogs` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `action` VARCHAR(255) NOT NULL, `entity` VARCHAR(255) NOT NULL, `entityId` UUID NOT NULL, `performedById` UUID NOT NULL REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `snapshot` JSON, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `deletedAt` DATETIME);
Executing (default): PRAGMA INDEX_LIST(`AuditLogs`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Translations';
Executing (default): CREATE TABLE IF NOT EXISTS `Translations` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `model` VARCHAR(255), `recordId` UUID, `language` VARCHAR(2), `field` VARCHAR(255), `translation` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Translations`)
Executing (default): CREATE INDEX `translations_model_record_id` ON `Translations` (`model`, `recordId`)
Executing (default): CREATE UNIQUE INDEX `translations_model_record_id_language_field` ON `Translations` (`model`, `recordId`, `language`, `field`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Orders';
Executing (default): CREATE TABLE IF NOT EXISTS `Orders` (`id` UUID NOT NULL PRIMARY KEY, `currency` VARCHAR(3) NOT NULL DEFAULT 'USD', `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `TaxRuleId` INTEGER REFERENCES `TaxRules` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `userId` UUID REFERENCES `Users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `paymentId` UUID REFERENCES `Payments` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
Executing (default): PRAGMA INDEX_LIST(`Orders`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Orders_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='OrderItems';
Executing (default): CREATE TABLE IF NOT EXISTS `OrderItems` (`id` UUID PRIMARY KEY, `orderId` UUID NOT NULL REFERENCES `Orders` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `productId` UUID NOT NULL REFERENCES `Products` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `quantity` INTEGER NOT NULL, `price` FLOAT NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`OrderItems`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_OrderItems_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Packages';
Executing (default): CREATE TABLE IF NOT EXISTS `Packages` (`id` UUID PRIMARY KEY, `name` VARCHAR(255) NOT NULL, `description` TEXT, `storeLimit` INTEGER NOT NULL, `categoryLimit` INTEGER NOT NULL DEFAULT 0, `productLimit` INTEGER NOT NULL DEFAULT 0, `userLimit` INTEGER NOT NULL DEFAULT 0, `isSuperAdminPackage` TINYINT(1) NOT NULL DEFAULT 0, `price` DECIMAL(10,2) NOT NULL DEFAULT 0, `isActive` TINYINT(1) NOT NULL DEFAULT 1, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Packages`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Packages_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Payments';
Executing (default): CREATE TABLE IF NOT EXISTS `Payments` (`id` UUID NOT NULL PRIMARY KEY, `paymentIntentId` VARCHAR(255) NOT NULL UNIQUE, `amount` FLOAT NOT NULL, `currency` VARCHAR(255) NOT NULL, `status` VARCHAR(255) NOT NULL DEFAULT 'pending', `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
Executing (default): PRAGMA INDEX_LIST(`Payments`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Payments_1`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Payments_2`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Permissions';
Executing (default): CREATE TABLE IF NOT EXISTS `Permissions` (`id` UUID PRIMARY KEY, `name` VARCHAR(50) NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Permissions`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Permissions_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Products';
Executing (default): CREATE TABLE IF NOT EXISTS `Products` (`id` UUID NOT NULL PRIMARY KEY, `name` VARCHAR(100) NOT NULL, `description` TEXT NOT NULL, `price` FLOAT NOT NULL, `isActive` TINYINT(1) DEFAULT 1, `ownerId` UUID NOT NULL REFERENCES `Users` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `categoryId` UUID NOT NULL REFERENCES `Categories` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `subcategoryId` UUID NOT NULL REFERENCES `SubCategories` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `storeId` UUID NOT NULL REFERENCES `Stores` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `metaTitle` VARCHAR(255), `metaDescription` VARCHAR(255), `slug` VARCHAR(255), `tags` VARCHAR(255), `discount` INTEGER, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Products`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Products_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='ProductImages';
Executing (default): CREATE TABLE IF NOT EXISTS `ProductImages` (`id` UUID NOT NULL PRIMARY KEY, `productId` UUID NOT NULL REFERENCES `Products` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `imageUrl` VARCHAR(255) NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`ProductImages`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_ProductImages_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Promotions';
Executing (default): CREATE TABLE IF NOT EXISTS `Promotions` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `code` VARCHAR(255) UNIQUE, `type` TEXT, `value` FLOAT, `minCartValue` FLOAT, `validFrom` DATETIME, `validTo` DATETIME, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Promotions`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Promotions_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='ReturnRequests';
Executing (default): CREATE TABLE IF NOT EXISTS `ReturnRequests` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `orderId` UUID NOT NULL REFERENCES `Orders` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `userId` UUID NOT NULL REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `reason` TEXT, `status` TEXT, `refundAmount` FLOAT, `resolutionNote` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`ReturnRequests`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='Roles';
Executing (default): CREATE TABLE IF NOT EXISTS `Roles` (`id` UUID PRIMARY KEY, `name` VARCHAR(50) NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`Roles`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_Roles_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='RolePermissions';
Executing (default): CREATE TABLE IF NOT EXISTS `RolePermissions` (`id` UUID PRIMARY KEY, `roleId` UUID NOT NULL REFERENCES `Roles` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `permissionId` UUID NOT NULL REFERENCES `Permissions` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, UNIQUE (`roleId`, `permissionId`));
Executing (default): PRAGMA INDEX_LIST(`RolePermissions`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_RolePermissions_1`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_RolePermissions_2`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='RoleUsers';
Executing (default): CREATE TABLE IF NOT EXISTS `RoleUsers` (`id` UUID PRIMARY KEY, `roleId` UUID NOT NULL REFERENCES `Roles` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, `userId` UUID NOT NULL REFERENCES `Users` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, UNIQUE (`roleId`, `userId`));
Executing (default): PRAGMA INDEX_LIST(`RoleUsers`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_RoleUsers_1`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_RoleUsers_2`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='OrderShippings';
Executing (default): CREATE TABLE IF NOT EXISTS `OrderShippings` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `trackingNumber` VARCHAR(255) UNIQUE, `carrier` VARCHAR(255), `status` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `OrderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ShippingMethodId` INTEGER REFERENCES `ShippingMethods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
Executing (default): PRAGMA foreign_keys = ON
‚ùå Database initialization failed: Error
    at Database.<anonymous> (/app/server/node_modules/sequelize/src/dialects/sqlite/query.js:236:27)
    at /app/server/node_modules/sequelize/src/dialects/sqlite/query.js:234:50
    at new Promise (<anonymous>)
    at Query.run (/app/server/node_modules/sequelize/src/dialects/sqlite/query.js:234:12)
    at /app/server/node_modules/sequelize/src/sequelize.js:650:28
    at async SQLiteQueryInterface.createTable (/app/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:229:12)
    at async Function.sync (/app/server/node_modules/sequelize/src/model.js:1353:7)
    at async /app/server/node_modules/sequelize/src/sequelize.js:847:11
    at async withSqliteForeignKeysOff (/app/server/node_modules/sequelize/src/dialects/sqlite/sqlite-utils.ts:8:12)
    at async Sequelize._syncModelsWithCyclicReferences (/app/server/node_modules/sequelize/src/sequelize.js:845:7) {
  name: 'SequelizeDatabaseError',
  parent: [Error: SQLITE_ERROR: duplicate column name: OrderId] {
    errno: 1,
    code: 'SQLITE_ERROR',
    sql: 'CREATE TABLE IF NOT EXISTS `OrderShippings` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `trackingNumber` VARCHAR(255) UNIQUE, `carrier` VARCHAR(255), `status` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `OrderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ShippingMethodId` INTEGER REFERENCES `ShippingMethods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);'
  },
  original: [Error: SQLITE_ERROR: duplicate column name: OrderId] {
    errno: 1,
    code: 'SQLITE_ERROR',
    sql: 'CREATE TABLE IF NOT EXISTS `OrderShippings` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `trackingNumber` VARCHAR(255) UNIQUE, `carrier` VARCHAR(255), `status` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `OrderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ShippingMethodId` INTEGER REFERENCES `ShippingMethods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);'
  },
  sql: 'CREATE TABLE IF NOT EXISTS `OrderShippings` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `trackingNumber` VARCHAR(255) UNIQUE, `carrier` VARCHAR(255), `status` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `OrderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ShippingMethodId` INTEGER REFERENCES `ShippingMethods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);',
  parameters: {}
}
‚ùå Failed to start server: Error
    at Database.<anonymous> (/app/server/node_modules/sequelize/src/dialects/sqlite/query.js:236:27)
    at /app/server/node_modules/sequelize/src/dialects/sqlite/query.js:234:50
    at new Promise (<anonymous>)
    at Query.run (/app/server/node_modules/sequelize/src/dialects/sqlite/query.js:234:12)
    at /app/server/node_modules/sequelize/src/sequelize.js:650:28
    at async SQLiteQueryInterface.createTable (/app/server/node_modules/sequelize/src/dialects/abstract/query-interface.js:229:12)
    at async Function.sync (/app/server/node_modules/sequelize/src/model.js:1353:7)
    at async /app/server/node_modules/sequelize/src/sequelize.js:847:11
    at async withSqliteForeignKeysOff (/app/server/node_modules/sequelize/src/dialects/sqlite/sqlite-utils.ts:8:12)
    at async Sequelize._syncModelsWithCyclicReferences (/app/server/node_modules/sequelize/src/sequelize.js:845:7) {
  name: 'SequelizeDatabaseError',
  parent: [Error: SQLITE_ERROR: duplicate column name: OrderId] {
    errno: 1,
    code: 'SQLITE_ERROR',
    sql: 'CREATE TABLE IF NOT EXISTS `OrderShippings` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `trackingNumber` VARCHAR(255) UNIQUE, `carrier` VARCHAR(255), `status` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `OrderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ShippingMethodId` INTEGER REFERENCES `ShippingMethods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);'
  },
  original: [Error: SQLITE_ERROR: duplicate column name: OrderId] {
    errno: 1,
    code: 'SQLITE_ERROR',
    sql: 'CREATE TABLE IF NOT EXISTS `OrderShippings` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `trackingNumber` VARCHAR(255) UNIQUE, `carrier` VARCHAR(255), `status` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `OrderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ShippingMethodId` INTEGER REFERENCES `ShippingMethods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);'
  },
  sql: 'CREATE TABLE IF NOT EXISTS `OrderShippings` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `trackingNumber` VARCHAR(255) UNIQUE, `carrier` VARCHAR(255), `status` TEXT, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `orderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `OrderId` UUID REFERENCES `Orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `ShippingMethodId` INTEGER REFERENCES `ShippingMethods` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);',
  parameters: {}
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node index.ts`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node index.ts`[39m
‚úÖ Config loaded from: /app/server/src/config/db.config.ts
üîß Database config: {
  dialect: 'postgres',
  host: '127.0.0.1',
  port: 5432,
  database: 'ecommerce_dev',
  use_env_variable: undefined,
  hasUsername: true,
  hasPassword: true
}
üîó Connecting to database: ecommerce_dev at 127.0.0.1:5432
üìÅ Loading 32 model files: [
  'Tax.model.ts',
  'analytics.model.ts',
  'article.model.ts',
  'cart.model.ts',
  'cartitem.model.ts',
  'category.model.ts',
  'comments.model.ts',
  'favorite.model.ts',
  'favoriteitem.model.ts',
  'log.model.ts',
  'multilan.model.ts',
  'order.model.ts',
  'orderitem.model.ts',
  'package.model.ts',
  'payment.model.ts',
  'permission.model.ts',
  'product.model.ts',
  'productimage.ts',
  'promotion.model.ts',
  'return.model.ts',
  'role.model.ts',
  'rolepermission .model.ts',
  'roleuser.model.ts',
  'shippment.model.ts',
  'shippmentmethod.model.ts',
  'size.model.ts',
  'sizeitem.model.ts',
  'store.model.ts',
  'subcategory.model.ts',
  'userpackage.model.ts',
  'users.model.ts',
  'usersession.model.ts'
]
‚úÖ Loaded model: TaxRule
‚úÖ Loaded model: Analytics
‚úÖ Loaded model: Article
‚úÖ Loaded model: Cart
‚úÖ Loaded model: CartItem
‚úÖ Loaded model: Category
‚úÖ Loaded model: Comment
‚úÖ Loaded model: Favorite
‚úÖ Loaded model: FavoriteItem
‚úÖ Loaded model: AuditLog
‚úÖ Loaded model: Translation
‚úÖ Loaded model: Order
‚úÖ Loaded model: OrderItem
‚úÖ Loaded model: Package
‚úÖ Loaded model: Payment
‚úÖ Loaded model: Permission
‚úÖ Loaded model: Product
‚úÖ Loaded model: ProductImage
‚úÖ Loaded model: Promotion
‚úÖ Loaded model: ReturnRequest
‚úÖ Loaded model: Role
‚úÖ Loaded model: RolePermission
‚úÖ Loaded model: RoleUser
‚úÖ Loaded model: OrderShipping
‚úÖ Loaded model: ShippingMethod
‚úÖ Loaded model: Size
‚úÖ Loaded model: SizeItem
‚úÖ Loaded model: Store
‚úÖ Loaded model: SubCategory
‚úÖ Loaded model: UserPackage
‚úÖ Loaded model: User
‚úÖ Loaded model: UserSession
üîó Set up associations for: TaxRule
üîó Set up associations for: Analytics
üîó Set up associations for: Article
üîó Set up associations for: Cart
üîó Set up associations for: CartItem
üîó Set up associations for: Category
üîó Set up associations for: Comment
üîó Set up associations for: Favorite
üîó Set up associations for: FavoriteItem
üîó Set up associations for: AuditLog
üîó Set up associations for: Translation
üîó Set up associations for: Order
üîó Set up associations for: OrderItem
üîó Set up associations for: Package
üîó Set up associations for: Payment
üîó Set up associations for: Permission
üîó Set up associations for: Product
üîó Set up associations for: ProductImage
üîó Set up associations for: Promotion
üîó Set up associations for: ReturnRequest
üîó Set up associations for: Role
üîó Set up associations for: RolePermission
üîó Set up associations for: RoleUser
üîó Set up associations for: OrderShipping
üîó Set up associations for: ShippingMethod
üîó Set up associations for: Size
üîó Set up associations for: SizeItem
üîó Set up associations for: Store
üîó Set up associations for: SubCategory
üîó Set up associations for: UserPackage
üîó Set up associations for: User
üîó Set up associations for: UserSession
üéâ Database initialization complete. Models loaded: TaxRule, Analytics, Article, Cart, CartItem, Category, Comment, Favorite, FavoriteItem, AuditLog, Translation, Order, OrderItem, Package, Payment, Permission, Product, ProductImage, Promotion, ReturnRequest, Role, RolePermission, RoleUser, OrderShipping, ShippingMethod, Size, SizeItem, Store, SubCategory, UserPackage, User, UserSession
/app/server/node_modules/ts-node/src/index.ts:859
    return new TSError(diagnosticText, diagnosticCodes, diagnostics);
           ^
TSError: ‚®Ø Unable to compile TypeScript:
src/routes/store.route.ts(4,8): error TS1192: Module '"/app/server/src/middlewares/store.middleweare"' has no default export.

    at createTSError (/app/server/node_modules/ts-node/src/index.ts:859:12)
    at reportTSError (/app/server/node_modules/ts-node/src/index.ts:863:19)
    at getOutput (/app/server/node_modules/ts-node/src/index.ts:1077:36)
    at Object.compile (/app/server/node_modules/ts-node/src/index.ts:1433:41)
    at Module.m._compile (/app/server/node_modules/ts-node/src/index.ts:1617:30)
    at node:internal/modules/cjs/loader:1839:10
    at Object.require.extensions.<computed> [as .ts] (/app/server/node_modules/ts-node/src/index.ts:1621:12)
    at Module.load (node:internal/modules/cjs/loader:1441:32)
    at Function._load (node:internal/modules/cjs/loader:1263:12)
    at TracingChannel.traceSync (node:diagnostics_channel:328:14) {
  diagnosticCodes: [ 1192 ]
}
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
